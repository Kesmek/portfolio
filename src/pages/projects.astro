---
import Layout from "src/layouts/Layout.astro";
import { getCollection } from "astro:content";
import Project from "@components/Project.astro";
import Flex from "@components/Flex.astro";

const projects = await getCollection("projects");
---

<Layout>
  <h1>Projects</h1>
  <Flex as="section" class="projects" direction="column">
    {
      projects.map((proj, index) => (
        <Project
          project={proj}
          variant={index % 2 === 1 ? "reversed" : "default"}
        />
      ))
    }
  </Flex>
</Layout>

<style>
  :root {
    --bg-gradient: linear-gradient(
      in oklab,
      var(--blue-1),
      var(--blue-3),
      var(--blue-1)
    );
    --theme-color-base: var(--blue-3);
    --theme-color-hover: var(--blue-4);
    --theme-color-active: var(--blue-5);
    --theme-border-color: var(--blue-7);
    --theme-border-color-hover: var(--blue-8);
    --theme-text-color: var(--blue-12);
  }

  h1 {
    padding-block-start: var(--spacing-48);
    padding-block-end: var(--spacing-16);
    text-align: center;
    text-transform: uppercase;
    text-decoration: underline;
  }

  :is(h1, h2, h3, h4) {
    color: var(--theme-text-color);
  }

  .projects {
    gap: var(--spacing-16);
  }
</style>
